<h2>Vínculo Tipo de Protocolo x Setor</h2>
<mat-card>
  <mat-tab-group>
    <mat-tab label="Vínculos">
      <table mat-table [dataSource]="vinculos" class="mat-elevation-z1">
        <ng-container matColumnDef="tipo">
          <th mat-header-cell *matHeaderCellDef>Tipo de Protocolo</th>
          <td mat-cell *matCellDef="let v">{{v.tipo}}</td>
        </ng-container>
        <ng-container matColumnDef="setores">
          <th mat-header-cell *matHeaderCellDef>Setores vinculados</th>
          <td mat-cell *matCellDef="let v">{{v.setores}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="['tipo','setores']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['tipo','setores'];"></tr>
      </table>
    </mat-tab>
    <mat-tab label="Novo Vínculo">
      <mat-form-field appearance="fill">
        <mat-label>Tipo de Protocolo</mat-label>
        <mat-select [(ngModel)]="form.tipoProtocoloId" name="tipo">
          <mat-option *ngFor="let t of tipos" [value]="t.id">{{t.nome}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-checkbox [(ngModel)]="form.todosSetores" name="todos" (change)="toggleTodos()">Disponível para todos os setores</mat-checkbox>
      <mat-form-field appearance="fill">
        <mat-label>Setores vinculados</mat-label>
        <mat-select multiple [disabled]="form.todosSetores" [(ngModel)]="form.setorIds" name="setores">
          <mat-option *ngFor="let s of setores" [value]="s.id">{{s.nome}}</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="salvar()">Salvar</button>
      <button mat-button type="button" (click)="cancelar()">Cancelar</button>
    </mat-tab>
  </mat-tab-group>
</mat-card>
