<h2>Fluxos de Aprovação</h2>
<label>
  Tipo de Protocolo
  <select [(ngModel)]="novo.tipoProtocolo" name="tipo" (change)="carregar()">
    <option *ngFor="let t of tipos" [value]="t.id">{{t.nome}}</option>
  </select>
</label>
<ul>
  <li *ngFor="let f of fluxos">
    {{f.ordem}} - {{f.setor.nome}}
    <button (click)="editar(f)">Editar</button>
    <button (click)="deletar(f.id)">Excluir</button>
  </li>
</ul>
<form (ngSubmit)="salvar()">
  <label>
    Setor
    <select [(ngModel)]="novo.setor" name="setor">
      <option *ngFor="let s of setores" [value]="s.id">{{s.nome}}</option>
    </select>
  </label>

  <label>
    Ordem
    <input [(ngModel)]="novo.ordem" name="ordem" type="number">
  </label>

  <label>
    Valor mínimo
    <input [(ngModel)]="novo.valorMinimo" name="min" type="number">
  </label>

  <label>
    Valor máximo
    <input [(ngModel)]="novo.valorMaximo" name="max" type="number">
  </label>

  <label>
    Prazo (h)
    <input [(ngModel)]="novo.prazoHoras" name="prazo" type="number">
  </label>

  <label>
    Ação em caso de recusa
    <select [(ngModel)]="novo.comportamentoRecusa" name="recusa">
      <option value="Anterior">Voltar para etapa anterior</option>
      <option value="Inicio">Voltar para Início</option>
    </select>
  </label>

  <label>
    Enviar alerta/mensagem para a etapa anterior?
    <input type="checkbox" [(ngModel)]="novo.enviarAlerta" name="alerta">
  </label>
  <button type="submit">{{editandoId ? 'Atualizar' : 'Adicionar'}}</button>
  <button type="button" *ngIf="editandoId" (click)="cancelar()">Cancelar</button>
</form>
